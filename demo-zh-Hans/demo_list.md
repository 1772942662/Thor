## Thor 的使用技巧


### 1、关于抓到的数据在哪查看，以及怎么保存的问题

所有成功抓包的数据都在： `包详情 -> 响应 -> 消息体` 中，消息体查看界面的`『分享』`入口可以保存或者导出。

[点我看示例](how_to_save_data/how_to_save_data.md)


### 2、音频、视频 206 或者 302 响应状态码出现的不能播放问题

*响应状态码*是请求本身决定的，`Thor` 只是**忠实**地记录下此过程。

| 状态码 | 含义说明 |
|:-------------|:-------------|
| 200 | 可以正常播放的音视频，常见于网页直接播放或者下载 |
| 206 | 完整音视频被拆成很多段，其中的某一段，不能直接播放（首段除外），常见于播放器播放产生 |
| 301 或 302 | 请求的音视频 url 地址变更为其它 url，新的 url 在 `包详情 -> 响应 -> 请求头 -> Location` 中可以找到 |


### 3、Thor 过滤器，筛选器的作用原理

* 过滤器
	* **抓包过滤**（`关键字`、`域名`、`方法等`）：抓包开始前设置，用于过滤『哪些包你能抓到』。过滤规则只在包的『请求行』，『请求头』中匹配。
	* **按需启动域名**：配置自动触发抓包的域名，当设备中任何地方访问该域名时，会自动启动抓包。
	* **DNS 服务器**：配置抓包可能会用到的自定义 DNS 地址，比如 8.8.8.8 之类的，大家懂的。


* 筛选器

对已经抓到的包筛选，筛选条件在包的『请求』和『响应』全部信息中匹配。


### 4、抓包的套路

* 暗中观察：先用『全局（默认）』过滤器抓取目标链接，找到相应的包，观察包的『请求』和『响应』信息。

* 仔细研究：从包的请求』和『响应』信息中找到蛛丝马迹，得到过滤条件。

* 创建过滤器：用研究得到的过滤条件，创建过滤器，实现定向抓包。


### 5、参考教程

* [新浪微博 APP GIF 图片抓取](iOS_Thor_GIF_weibo/iOS_Thor_GIF_weibo.md)

* [抓取秒拍视频](http://v.youku.com/v_show/id_XMjY1OTM3MTQ0NA==.html?f=49309652&spm=a2hzp.8244740.userfeed.5!2~5~5~5!3~5~A)